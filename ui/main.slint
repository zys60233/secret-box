import { Button } from "std-widgets.slint";
import { MainWindowContent } from "content.slint";
import { LoginWindowContent } from "login.slint";
import { CreateWindowContent } from "create.slint";
import { EditWindowContent } from "edit.slint";

export component MainWindow inherits Window {
    in-out property <length> windowWidth: 300px;
    in-out property <length> windowHeight: 400px;

    in-out property <bool> mainWindowContentVisible: false; 


    width: windowWidth;
    height: windowHeight;
    background:#e3f2fd;

    //菜单
    callback createRecord();
    callback setting();
    MenuBar {
        Menu {
            title: @tr("新建");
            MenuItem { title: "新建"; activated => { createRecord() } }
        }

        Menu {
            title: @tr("设置");
            MenuItem { title: @tr("设置"); activated => { setting() } }
        }
    }

    //登录窗口
    LoginWindowContent {
        //点击登录按钮
        loginBtnClicked => {
            //主窗口显示
            root.mainWindowContentVisible = true;

            //重设窗口宽高
            root.windowWidth = 1400px;
            root.windowHeight = 800px;
        }
    } 

    //主窗口
    mianWindowHandler := MainWindowContent {
        mainWindowContentVisible: mainWindowContentVisible;
    }
    
    //创建窗口
    createWindowHandler := CreateWindowContent {} 
    createRecord => { createWindowHandler.visible = true; }

    //编辑窗口
    editWindowHandler := EditWindowContent {}

}
